{"id":"a792b853-e7f5-400c-9969-3bfef3f29e37","revision":0,"last_node_id":32,"last_link_id":76,"nodes":[{"id":2,"type":"LoadImage","pos":[278.3350065976569,295.69744834765646],"size":[274.080078125,314],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[47]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"LoadImage"},"widgets_values":["bas_relief.png","image"]},{"id":27,"type":"PreviewImage","pos":[713.8757529396423,337.41265835721623],"size":[140,246],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":60}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.69","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":3,"type":"DownloadAndLoadDepthAnythingV3Model","pos":[113.14835360737922,-18.991155752930204],"size":[388.65,106],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","shape":7,"type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","shape":7,"type":"COMBO","widget":{"name":"attention"},"link":null}],"outputs":[{"localized_name":"da3_model","name":"da3_model","type":"DA3MODEL","links":[46]}],"properties":{"cnr_id":"ComfyUI-DepthAnythingV3","ver":"f900962397f5dd3df02d3caba1e99b0cfe80c25a","Node name for S&R":"DownloadAndLoadDepthAnythingV3Model","aux_id":"PozzettiAndrea/ComfyUI-DepthAnythingV3"},"widgets_values":["da3_large.safetensors","auto","auto"]},{"id":30,"type":"Preview3D","pos":[1150.4620410360965,-43.0885984571034],"size":[400,550],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"camera_info","name":"camera_info","shape":7,"type":"LOAD3D_CAMERA","link":null},{"localized_name":"bg_image","name":"bg_image","shape":7,"type":"IMAGE","link":null},{"localized_name":"model_file","name":"model_file","type":"STRING,FILE_3D_GLB,FILE_3D_GLTF,FILE_3D_FBX,FILE_3D_OBJ,FILE_3D_STL,FILE_3D_USDZ,FILE_3D","widget":{"name":"model_file"},"link":76},{"localized_name":"image","name":"image","type":"PREVIEW_3D","widget":{"name":"image"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.69","Node name for S&R":"Preview3D","Camera Info":{"position":{"x":2.16639570322691,"y":3.8331185932596945,"z":6.104258098855287},"target":{"x":0,"y":2.5,"z":0},"zoom":1,"cameraType":"perspective"},"Last Time Model File":"/home/shadeform/depth_node/ComfyUI/output/mesh_0000.glb","Resource Folder":"shadeform/depth_node/ComfyUI/output"},"widgets_values":["/home/shadeform/depth_node/ComfyUI/output/mesh_0000.glb",""]},{"id":21,"type":"DepthAnything_V3","pos":[532.8398947345052,-39.84776014041735],"size":[272.05859375,330],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"da3_model","name":"da3_model","type":"DA3MODEL","link":46},{"localized_name":"images","name":"images","type":"IMAGE","link":47},{"localized_name":"camera_params","name":"camera_params","shape":7,"type":"CAMERA_PARAMS","link":null},{"localized_name":"normalization_mode","name":"normalization_mode","type":"COMBO","widget":{"name":"normalization_mode"},"link":null},{"localized_name":"resize_method","name":"resize_method","shape":7,"type":"COMBO","widget":{"name":"resize_method"},"link":null},{"localized_name":"invert_depth","name":"invert_depth","shape":7,"type":"BOOLEAN","widget":{"name":"invert_depth"},"link":null},{"localized_name":"keep_model_size","name":"keep_model_size","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_size"},"link":null}],"outputs":[{"localized_name":"depth","name":"depth","type":"IMAGE","links":[70]},{"localized_name":"confidence","name":"confidence","type":"IMAGE","links":[71]},{"localized_name":"resized_rgb_image","name":"resized_rgb_image","type":"IMAGE","links":[60,72]},{"localized_name":"ray_origin","name":"ray_origin","type":"IMAGE","links":null},{"localized_name":"ray_direction","name":"ray_direction","type":"IMAGE","links":[]},{"localized_name":"extrinsics_json","name":"extrinsics_json","type":"STRING","links":[]},{"localized_name":"intrinsics_json","name":"intrinsics_json","type":"STRING","links":[73]},{"localized_name":"sky_mask","name":"sky_mask","type":"MASK","links":[74]},{"localized_name":"extrinsics","name":"extrinsics","type":"EXTRINSICS","links":null},{"localized_name":"intrinsics","name":"intrinsics","type":"INTRINSICS","links":null},{"localized_name":"gaussian_ply_path","name":"gaussian_ply_path","type":"STRING","links":null}],"properties":{"cnr_id":"ComfyUI-DepthAnythingV3","ver":"0bb483bb0db9bf0fdae73117fec75ea96dc45b7c","Node name for S&R":"DepthAnything_V3"},"widgets_values":["Raw","resize",false,true]},{"id":32,"type":"DA3_ToMesh","pos":[825.9046463886924,-35.607027455317635],"size":[301.109375,282],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"depth_raw","name":"depth_raw","type":"IMAGE","link":70},{"localized_name":"confidence","name":"confidence","type":"IMAGE","link":71},{"localized_name":"intrinsics","name":"intrinsics","shape":7,"type":"STRING","link":73},{"localized_name":"sky_mask","name":"sky_mask","shape":7,"type":"MASK","link":74},{"localized_name":"source_image","name":"source_image","shape":7,"type":"IMAGE","link":72},{"localized_name":"confidence_threshold","name":"confidence_threshold","shape":7,"type":"FLOAT","widget":{"name":"confidence_threshold"},"link":null},{"localized_name":"depth_edge_threshold","name":"depth_edge_threshold","shape":7,"type":"FLOAT","widget":{"name":"depth_edge_threshold"},"link":null},{"localized_name":"downsample","name":"downsample","shape":7,"type":"INT","widget":{"name":"downsample"},"link":null},{"localized_name":"target_faces","name":"target_faces","shape":7,"type":"INT","widget":{"name":"target_faces"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","shape":7,"type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"allow_around_1","name":"allow_around_1","shape":7,"type":"BOOLEAN","widget":{"name":"allow_around_1"},"link":null},{"localized_name":"use_draco_compression","name":"use_draco_compression","shape":7,"type":"BOOLEAN","widget":{"name":"use_draco_compression"},"link":null}],"outputs":[{"localized_name":"file_path","name":"file_path","type":"STRING","links":[76]}],"properties":{"cnr_id":"ComfyUI-DepthAnythingV3","ver":"39d129b8d2d651e0ea47aec7ccd67209537fa710","Node name for S&R":"DA3_ToMesh"},"widgets_values":[0.1,0.1,1,100000,"mesh",true,false]}],"links":[[46,3,0,21,0,"DA3MODEL"],[47,2,0,21,1,"IMAGE"],[60,21,2,27,0,"IMAGE"],[70,21,0,32,0,"IMAGE"],[71,21,1,32,1,"IMAGE"],[72,21,2,32,4,"IMAGE"],[73,21,6,32,2,"STRING"],[74,21,7,32,3,"MASK"],[76,32,0,30,2,"STRING"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.3513057093103973,"offset":[-536.3561364116122,15.223758121102236]},"frontendVersion":"1.28.8","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"workflowRendererVersion":"LG"},"version":0.4}